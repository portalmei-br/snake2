<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Snake Battle - Desafios 1x1 de Snake</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="game.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
</head>
<body>
    <!-- Header Fixo -->
    <header class="header">
        <div class="container">
            <div class="header-content">
                <div class="logo">
                    <i class="fas fa-snake"></i>
                    <span>Snake Battle</span>
                </div>
                
                <nav class="nav">
                    <a href="#home" class="nav-link active">Início</a>
                    <a href="#mesas" class="nav-link">Mesas de Desafio</a>
                    <a href="#ranking" class="nav-link">Ranking</a>
                    <a href="#conta" class="nav-link">Minha Conta</a>
                </nav>
                
                <div class="header-actions">
                    <div class="balance">
                        <i class="fas fa-coins"></i>
                        <span id="user-balance">R$ 100,00</span>
                    </div>
                    <button class="btn-login" id="login-btn">Login</button>
                    <button class="btn-register" id="register-btn">Registrar</button>
                </div>
                
                <button class="mobile-menu-toggle" id="mobile-menu">
                    <i class="fas fa-bars"></i>
                </button>
            </div>
        </div>
    </header>

    <!-- Seção Hero -->
    <section class="hero" id="home">
        <div class="container">
            <div class="hero-content">
                <div class="hero-text">
                    <h1 class="hero-title">
                        DESAFIE OUTROS JOGADORES
                        <span class="highlight">NO SNAKE!</span>
                    </h1>
                    <p class="hero-subtitle">
                        Partidas rápidas em formato melhor de 3 rodadas.<br>
                        Quem durar mais tempo vence e leva tudo!
                    </p>
                    <button class="btn-cta" id="quick-match-btn">
                        <i class="fas fa-bolt"></i>
                        Entrar em Partida Rápida
                    </button>
                </div>
                <div class="hero-visual">
                    <div class="snake-animation">
                        <div class="snake-segment"></div>
                        <div class="snake-segment"></div>
                        <div class="snake-segment"></div>
                        <div class="snake-segment"></div>
                        <div class="food"></div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Vencedores Recentes -->
    <section class="recent-winners">
        <div class="container">
            <div class="winners-scroll">
                <div class="winner-item">
                    <i class="fas fa-trophy"></i>
                    <span class="winner-name">João***</span>
                    <span class="winner-prize">R$ 20,00</span>
                </div>
                <div class="winner-item">
                    <i class="fas fa-trophy"></i>
                    <span class="winner-name">Maria***</span>
                    <span class="winner-prize">R$ 15,00</span>
                </div>
                <div class="winner-item">
                    <i class="fas fa-trophy"></i>
                    <span class="winner-name">Pedro***</span>
                    <span class="winner-prize">R$ 10,00</span>
                </div>
                <div class="winner-item">
                    <i class="fas fa-trophy"></i>
                    <span class="winner-name">Ana***</span>
                    <span class="winner-prize">R$ 5,00</span>
                </div>
            </div>
        </div>
    </section>

    <!-- Mesas de Desafio -->
    <section class="tables-section" id="mesas">
        <div class="container">
            <div class="section-header">
                <h2 class="section-title">Mesas de Desafio</h2>
                <div class="table-filters">
                    <button class="filter-btn active" data-filter="all">Todas</button>
                    <button class="filter-btn" data-filter="available">Disponíveis</button>
                    <button class="filter-btn" data-filter="waiting">Aguardando</button>
                    <button class="filter-btn" data-filter="playing">Em Andamento</button>
                </div>
            </div>
            
            <div class="tables-grid">
                <div class="table-card" data-value="5" data-status="available">
                    <div class="table-header">
                        <div class="table-value">R$ 5,00</div>
                        <div class="table-status status-available">Disponível</div>
                    </div>
                    <div class="table-info">
                        <div class="players-count">
                            <i class="fas fa-users"></i>
                            <span>0/2 jogadores</span>
                        </div>
                        <div class="table-description">
                            Mesa iniciante para jogadores casuais
                        </div>
                    </div>
                    <button class="btn-join-table">
                        <i class="fas fa-gamepad"></i>
                        Entrar na Mesa
                    </button>
                </div>

                <div class="table-card" data-value="10" data-status="waiting">
                    <div class="table-header">
                        <div class="table-value">R$ 10,00</div>
                        <div class="table-status status-waiting">Aguardando</div>
                    </div>
                    <div class="table-info">
                        <div class="players-count">
                            <i class="fas fa-users"></i>
                            <span>1/2 jogadores</span>
                        </div>
                        <div class="table-description">
                            Mesa intermediária para jogadores experientes
                        </div>
                    </div>
                    <button class="btn-join-table">
                        <i class="fas fa-gamepad"></i>
                        Entrar na Mesa
                    </button>
                </div>

                <div class="table-card" data-value="15" data-status="available">
                    <div class="table-header">
                        <div class="table-value">R$ 15,00</div>
                        <div class="table-status status-available">Disponível</div>
                    </div>
                    <div class="table-info">
                        <div class="players-count">
                            <i class="fas fa-users"></i>
                            <span>0/2 jogadores</span>
                        </div>
                        <div class="table-description">
                            Mesa avançada para jogadores profissionais
                        </div>
                    </div>
                    <button class="btn-join-table">
                        <i class="fas fa-gamepad"></i>
                        Entrar na Mesa
                    </button>
                </div>

                <div class="table-card" data-value="20" data-status="playing">
                    <div class="table-header">
                        <div class="table-value">R$ 20,00</div>
                        <div class="table-status status-playing">Em Andamento</div>
                    </div>
                    <div class="table-info">
                        <div class="players-count">
                            <i class="fas fa-users"></i>
                            <span>2/2 jogadores</span>
                        </div>
                        <div class="table-description">
                            Mesa premium para jogadores elite
                        </div>
                    </div>
                    <button class="btn-watch-game">
                        <i class="fas fa-eye"></i>
                        Assistir Partida
                    </button>
                </div>
            </div>
        </div>
    </section>

    <!-- Ranking -->
    <section class="ranking-section" id="ranking">
        <div class="container">
            <div class="section-header">
                <h2 class="section-title">Ranking dos Campeões</h2>
                <div class="ranking-tabs">
                    <button class="tab-btn active" data-tab="victories">Vitórias</button>
                    <button class="tab-btn" data-tab="earnings">Ganhos</button>
                    <button class="tab-btn" data-tab="streak">Sequência</button>
                </div>
            </div>
            
            <div class="ranking-content">
                <div class="ranking-list" id="victories-ranking">
                    <div class="ranking-item rank-1">
                        <div class="rank-position">1</div>
                        <div class="player-info">
                            <div class="player-name">SnakeMaster</div>
                            <div class="player-stats">127 vitórias</div>
                        </div>
                        <div class="player-earnings">R$ 2.540,00</div>
                    </div>
                    
                    <div class="ranking-item rank-2">
                        <div class="rank-position">2</div>
                        <div class="player-info">
                            <div class="player-name">CobraKing</div>
                            <div class="player-stats">98 vitórias</div>
                        </div>
                        <div class="player-earnings">R$ 1.960,00</div>
                    </div>
                    
                    <div class="ranking-item rank-3">
                        <div class="rank-position">3</div>
                        <div class="player-info">
                            <div class="player-name">ViperaQueen</div>
                            <div class="player-stats">87 vitórias</div>
                        </div>
                        <div class="player-earnings">R$ 1.740,00</div>
                    </div>
                    
                    <div class="ranking-item">
                        <div class="rank-position">4</div>
                        <div class="player-info">
                            <div class="player-name">FastSnake</div>
                            <div class="player-stats">76 vitórias</div>
                        </div>
                        <div class="player-earnings">R$ 1.520,00</div>
                    </div>
                    
                    <div class="ranking-item">
                        <div class="rank-position">5</div>
                        <div class="player-info">
                            <div class="player-name">GreenMamba</div>
                            <div class="player-stats">65 vitórias</div>
                        </div>
                        <div class="player-earnings">R$ 1.300,00</div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Como Funciona -->
    <section class="how-it-works">
        <div class="container">
            <h2 class="section-title">Como Funciona</h2>
            <p class="section-subtitle">Siga estes 4 passos simples e comece a ganhar agora mesmo</p>
            
            <div class="steps-grid">
                <div class="step-card">
                    <div class="step-number">1</div>
                    <div class="step-content">
                        <h3>Crie sua Conta</h3>
                        <p>Cadastre-se rapidamente e receba R$ 100,00 de saldo inicial para começar a jogar</p>
                    </div>
                </div>
                
                <div class="step-card">
                    <div class="step-number">2</div>
                    <div class="step-content">
                        <h3>Escolha uma Mesa</h3>
                        <p>Selecione o valor da aposta que deseja e entre na mesa de desafio</p>
                    </div>
                </div>
                
                <div class="step-card">
                    <div class="step-number">3</div>
                    <div class="step-content">
                        <h3>Jogue Snake</h3>
                        <p>Enfrente seu oponente em 3 rodadas. Quem durar mais tempo em cada rodada vence</p>
                    </div>
                </div>
                
                <div class="step-card">
                    <div class="step-number">4</div>
                    <div class="step-content">
                        <h3>Ganhe o Prêmio</h3>
                        <p>O vencedor do melhor de 3 leva todo o valor apostado na mesa</p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Modal de Login -->
    <div class="modal" id="login-modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Entrar na Conta</h3>
                <button class="modal-close">&times;</button>
            </div>
            <div class="modal-body">
                <form id="login-form">
                    <div class="form-group">
                        <label>Email ou Usuário</label>
                        <input type="text" id="login-username" required>
                    </div>
                    <div class="form-group">
                        <label>Senha</label>
                        <input type="password" id="login-password" required>
                    </div>
                    <button type="submit" class="btn-submit">Entrar</button>
                </form>
                <div class="modal-footer">
                    <p>Não tem conta? <a href="#" id="show-register">Cadastre-se aqui</a></p>
                </div>
            </div>
        </div>
    </div>

    <!-- Modal de Registro -->
    <div class="modal" id="register-modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Criar Conta</h3>
                <button class="modal-close">&times;</button>
            </div>
            <div class="modal-body">
                <form id="register-form">
                    <div class="form-group">
                        <label>Nome de Usuário</label>
                        <input type="text" id="register-username" required>
                    </div>
                    <div class="form-group">
                        <label>Email</label>
                        <input type="email" id="register-email" required>
                    </div>
                    <div class="form-group">
                        <label>Senha</label>
                        <input type="password" id="register-password" required>
                    </div>
                    <button type="submit" class="btn-submit">Criar Conta</button>
                </form>
                <div class="modal-footer">
                    <p>Já tem conta? <a href="#" id="show-login">Entre aqui</a></p>
                </div>
            </div>
        </div>
    </div>

    <!-- Área de Jogo (Oculta inicialmente) -->
    <div class="game-area" id="game-area">
        <div class="game-container">
            <div class="game-header">
                <div class="game-info">
                    <h3>Mesa R$ <span id="game-table-value">10,00</span></h3>
                    <div class="round-info">Rodada <span id="current-round">1</span>/3</div>
                </div>
                <button class="btn-leave-game" id="leave-game">
                    <i class="fas fa-times"></i>
                    Sair da Mesa
                </button>
            </div>
            
            <div class="game-content">
                <!-- Área de Jogo Principal com Duas Telas -->
                <div class="dual-game-container">
                    <!-- Área do Oponente (Parte Superior) -->
                    <div class="opponent-game-area">
                        <div class="game-section-header">
                            <h4><i class="fas fa-robot"></i> Oponente</h4>
                            <div class="opponent-stats">
                                <span class="survival-time" id="opponent-timer">00:00</span>
                                <span class="score" id="opponent-score">0</span>
                            </div>
                        </div>
                        <div class="game-canvas-container opponent-canvas">
                            <canvas id="opponent-canvas" width="400" height="300"></canvas>
                            <div class="game-overlay" id="opponent-overlay">
                                <div class="overlay-content">
                                    <h3 id="opponent-overlay-title">Aguardando...</h3>
                                    <p id="opponent-overlay-message">Preparando jogo do oponente</p>
                                    <div class="loading-spinner"></div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Área do Jogador (Parte Inferior) -->
                    <div class="player-game-area">
                        <div class="game-section-header">
                            <h4><i class="fas fa-user"></i> Você</h4>
                            <div class="player-stats">
                                <span class="survival-time" id="player-timer">00:00</span>
                                <span class="score" id="player-score">0</span>
                            </div>
                        </div>
                        <div class="game-canvas-container player-canvas">
                            <canvas id="player-canvas" width="400" height="300"></canvas>
                            <div class="game-overlay" id="player-overlay">
                                <div class="overlay-content">
                                    <h3 id="player-overlay-title">Procurando Oponente...</h3>
                                    <p id="player-overlay-message">Aguarde enquanto encontramos outro jogador</p>
                                    <div class="loading-spinner"></div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Sidebar do Jogo -->
                <div class="game-sidebar">
                    <div class="match-score">
                        <h4><i class="fas fa-trophy"></i> Placar da Partida</h4>
                        <div class="score-display">
                            <div class="player-score">
                                <span class="player-name">Você</span>
                                <span class="score" id="player-match-score">0</span>
                            </div>
                            <div class="vs">VS</div>
                            <div class="player-score">
                                <span class="player-name">Oponente</span>
                                <span class="score" id="opponent-match-score">0</span>
                            </div>
                        </div>
                    </div>

                    <div class="round-results">
                        <h4><i class="fas fa-list"></i> Resultados das Rodadas</h4>
                        <div class="round-result" id="round-1-result">
                            <span>Rodada 1:</span>
                            <span class="result">-</span>
                        </div>
                        <div class="round-result" id="round-2-result">
                            <span>Rodada 2:</span>
                            <span class="result">-</span>
                        </div>
                        <div class="round-result" id="round-3-result">
                            <span>Rodada 3:</span>
                            <span class="result">-</span>
                        </div>
                    </div>

                    <div class="controls">
                        <h4><i class="fas fa-keyboard"></i> Controles</h4>
                        <div class="controls-info">
                            <p><strong>Setas</strong> ou <strong>WASD</strong> para mover</p>
                            <p><strong>Espaço</strong> para pausar</p>
                            <p>Coma a comida vermelha para crescer</p>
                            <p>Evite bater nas paredes ou em si mesmo</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Scripts -->
    <script src="userSystem.js"></script>
    <script src="matchmaking.js"></script>
    <script src="snakeGame.js"></script>
    <script src="platform.js"></script>
    <script>
        // Inicializar plataforma
        window.platform = new SnakePlatform();
    </script>
</body>
</html>

